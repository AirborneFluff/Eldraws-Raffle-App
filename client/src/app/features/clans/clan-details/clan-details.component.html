<ng-container *ngIf="clan$ | async as clan else loading">
  <component-frame>
    <h1 class="text-center text-3xl mt-4 mb-6 sm:my-8">{{clan.name}}</h1>
    <div class="flex justify-between sm:justify-around text-center mb-10">
        <div class="mx-2 basis-1/3">
            <p class="font-bold text-sm">Members</p>
            <p class="font-extralight text-2xl leading-tight font-display">{{clan.members.length}}</p>
        </div>
        <div class="mx-2 basis-1/3">
            <p class="font-bold text-sm">Raffles</p>
            <p class="font-extralight text-2xl leading-tight font-display">{{clan.raffles.length}}</p>
        </div>
    </div>

    <div class="flex w-full gap-4 flex-wrap">
      <div class="basis-96 flex-grow">
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>manage_accounts</mat-icon>
            </mat-panel-title>
            <mat-panel-description>
              Members
            </mat-panel-description>
          </mat-expansion-panel-header>
          <clan-member-list [members]="clan.members" [owner]="clan.owner" [isOwner]="isOwner$ | async"/>
          <add-clan-member-button *ngIf="isOwner$ | async"/>
        </mat-expansion-panel>
      </div>
    </div>
  </component-frame>
  <create-raffle-button (click)="openCreateRaffle()"/>
  <app-raffle-list [raffles]="clan.raffles"></app-raffle-list>
</ng-container>

<ng-template #loading>

  <component-frame>
    <h1 class="text-center text-3xl mt-4 mb-6 sm:my-8 placeholder-4 mx-auto"></h1>
    <div class="flex justify-between sm:justify-around text-center mb-10">
      <div class="mx-2 basis-1/3">
        <p class="text-sm placeholder-2 mx-auto mb-0.5"></p>
        <p class="text-2xl placeholder-1 mx-auto"></p>
      </div>
      <div class="mx-2 basis-1/3">
        <p class="text-sm placeholder-2 mx-auto mb-0.5"></p>
        <p class="text-2xl placeholder-1 mx-auto"></p>
      </div>
    </div>

    <div class="flex w-full gap-4 flex-wrap cursor-wait">
      <div class="basis-96 flex-grow">
        <mat-expansion-panel disabled>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>manage_accounts</mat-icon>
            </mat-panel-title>
            <mat-panel-description>
              Members
            </mat-panel-description>
          </mat-expansion-panel-header>
        </mat-expansion-panel>
      </div>
    </div>
  </component-frame>
</ng-template>
