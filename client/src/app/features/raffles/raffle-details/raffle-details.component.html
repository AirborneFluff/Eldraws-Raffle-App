
<ng-container *ngIf="(raffle$ | async) as raffle else loading">
  <component-frame>
    <div class="flex pb-2 items-center justify-between">
      <p class="font-display text-md text-center pointer-events-none">
        {{statusText$ | async}}
      </p>
      <div class="flex gap-2">
        <roll-winners-button/>
        <discord-button/>
        <button mat-mini-fab color="primary" (click)="editRaffle()">
          <mat-icon>edit</mat-icon>
        </button>
      </div>
    </div>
    <div class="pb-6">
      <div class="pointer-events-none flex justify-center align-middle mb-6">
        <h1 class="font-display leading-none text-2xl">{{raffle.title}}</h1>
      </div>
      <div class="flex justify-between sm:justify-around text-center">
        <div class="mx-2 basis-1/3">
          <p class="font-bold text-sm">Entry Cost</p>
          <p class="font-extralight text-2xl leading-tight font-display">{{raffle.entryCost | shortNumber}}</p>
        </div>
        <div class="mx-2 basis-1/3">
          <p class="font-bold text-sm">Donations</p>
          <p class="font-extralight text-2xl leading-tight font-display">{{(totalDonations$ | async)! | shortNumber}}</p>
        </div>
        <div class="mx-2 basis-1/3">
          <p class="font-bold text-sm">Tickets</p>
          <p class="font-extralight text-2xl leading-tight font-display">{{totalTickets$ | async}}</p>
        </div>
      </div>
    </div>
  </component-frame>
  <app-prize-list/>
  <app-create-prize-button/>
  <app-create-entry/>
  <app-entry-list/>
</ng-container>

<ng-template #loading>
  <component-frame>
    <div class="p-6">
      <h1 class="placeholder-6 text-2xl mx-auto mb-6"></h1>
      <div class="flex justify-between sm:justify-around">
        <div class="mx-2 basis-1/3">
          <p class="text-sm placeholder-3 mx-auto mb-0.5"></p>
          <p class="text-2xl placeholder-2 mx-auto"></p>
        </div>
        <div class="mx-2 basis-1/3">
          <p class="text-sm placeholder-3 mx-auto mb-0.5"></p>
          <p class="text-2xl placeholder-2 mx-auto"></p>
        </div>
        <div class="mx-2 basis-1/3">
          <p class="text-sm placeholder-3 mx-auto mb-0.5"></p>
          <p class="text-2xl placeholder-1 mx-auto"></p>
        </div>
      </div>
    </div>
  </component-frame>
</ng-template>
